==================================
üß† VERSION 2 PSEUDO-CODE WORKSHEET
==================================

This is our WHAT, WHEN, WHERE, HOW framework for working with data:

1. WHAT data should we store & retrieve?
   What kind of HTTP request do we need to send, and to what API endpoint?
   If we are sending a POST request, what do we need to send in the request body, and what is the data type?
   What would we get back in the response, and what is the data t ype?

2. WHEN should we store & retrieve the data?
   What event or user action is the trigger, such as clicking a button, submitting a form, or loading a page?

3. WHERE does this happen in the code?
   What component, page or function?

4. HOW do we accomplish this?
   What steps do we need to take?
   Do we need to...
   - make any GET or POST requests to an API endpoint?
   - render anything in JSX?
   - make any functions? If so, when would we call those functions?
   - use any useState or useEffect hooks?
     Remember: This is pseudo-code. Don't write code yet ‚Äî just outline the actions in plain language.

‚ú® YOUR TASK: Fill in the answers to each WHAT/WHEN/WHERE/HOW question below for the 3 pieces of data.

==================================
üìä FORM DATA
==================================

========================
üî∂ STORING FORM DATA
========================

‚ùì WHAT...
TYPE OF HTTP REQUEST (GET OR POST): POST
API ENDPOINT: /add-one-user, /update-one-country-count and /save-one-country

REQUEST BODY DATA TYPE (if applicable): object
REQUEST BODY (if applicable):
{
  "name": "Alice",
  "country_name": "Germany",
  "email": "alice@example.com",
  "bio": "A little about Alice"
}

RESPONSE DATA TYPE: string
RESPONSE: "Success! User has been added."

‚ùì WHEN: For version 2, we are focusing on submitting the form data object and to make the API request on submit.

‚ùì WHERE: Saved countries page. Though our post requests could be 3 different things as the API has that much available.

‚ùì HOW:
Step 1: Create a submit handler which creates the data object from the form data.
Step 2: Use the submit event to also send a POST request to (https://backend-answer-keys.onrender.com) '/api/' and the correct endpoint with the correct body format specified in the APIs documentation.
Step 3: We'll get a reply from the API confirming that our request has come through successfully. But this can also be seen on the network tab in the developer tools which includes request/API timing.

========================
üî∂ RETRIEVING FORM DATA
========================

‚ùì WHAT...
TYPE OF HTTP REQUEST (GET OR POST): GET
API ENDPOINT: /get-newest-user

REQUEST BODY DATA TYPE (if applicable): N/A
REQUEST BODY (if applicable): N/A

RESPONSE DATA TYPE: Array with a single object.
RESPONSE: [
  {
    "user_id": 42,
    "name": "John Smith",
    "country_name": "Canada",
    "email": "john@example.com",
    "bio": "Another bio"
  }
]

‚ùì WHEN: We call this after we've submitted our form data so that we can confirm that the user has been added to the API.

‚ùì WHERE: We call this into the saved countries page to be able to display the user's details after they've given us their data.

‚ùì HOW:
Step 1: We'll need to have this run once when the page loads.
Step 2: If it loads, then it will render the appropriate data onto our page. Else, it will simply render the default paragraph.

===================================
üìä SAVED COUNTRIES DATA
===================================

========================
üî∂ STORING SAVED COUNTRIES DATA
========================

‚ùì WHAT...
TYPE OF HTTP REQUEST (GET OR POST): POST
API ENDPOINT: /save-one-country

REQUEST BODY DATA TYPE (if applicable): json
REQUEST BODY (if applicable): {
  "country_name": "Brazil"
}

RESPONSE DATA TYPE: string
RESPONSE: "Success! The country is saved."

‚ùì WHEN: This happens when you want to keep a country's data in the API rather than locally.

‚ùì WHERE: We have a save button on each country's detail page and then again on the form submit in the saved countries page.

‚ùì HOW:
Step 1: I set up the request to run on click and on submit.
Step 2: The saved list can then be retrieved on state change.

========================
üî∂ RETRIEVING SAVED COUNTRIES DATA
========================

‚ùì WHAT...
TYPE OF HTTP REQUEST (GET OR POST): GET
API ENDPOINT: /get-all-saved-countries

REQUEST BODY DATA TYPE (if applicable: N/A
REQUEST BODY (if applicable): N/A

RESPONSE DATA TYPE: Array of Objects
RESPONSE: [
  {
    "country_name": "Japan"
  },
  {
    "country_name": "Germany"
  }
]

‚ùì WHEN: After a user has submitted their user data and have saved at least 1 country.

‚ùì WHERE: On our saved countries page above the profile greeting and form.

‚ùì HOW:
Step 1: Set up a conditional render.

Step 2: On page load, check if user has submitted user data. If not, load nothing.

Step 3: Otherwise, fetch the saved countries list and pass it onto our country card
        function in order to render the cards in the appropriate place.

=================================
üìä COUNTRY COUNTS DATA
=================================

========================
üî∂ STORING & RETRIEVING COUNTRY COUNTS DATA
========================
NOTE: We combine storing & retrieving country counts data into one section because they always happen together. Each time we look up a country‚Äôs view count, we also need to increase it and save the new total.

‚ùì WHAT...
TYPE OF HTTP REQUEST (GET OR POST): POST
API ENDPOINT: /update-one-country-count

REQUEST BODY DATA TYPE (if applicable): Object

REQUEST BODY (if applicable): {
  "country_name": "France"
}

RESPONSE DATA TYPE: Objects
RESPONSE: {
  "count": 3
}

‚ùì WHEN: When we open up a country's detail page.

‚ùì WHERE: In the details page with the rest of the data.

‚ùì HOW:
Step 1: Create a useEffect.
Step 2: Have it only run once when the page loads.